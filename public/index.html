<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Hello, World!</title>
	</head>
	<body>
		<div>
			<textarea type="text" name="input" id="input" placeholder="chat here"></textarea>
			<button type="button" id="submit">Submit</button>
		</div>
		<div id="chat">

		</div>

		<script>
			const ws = new WebSocket("/ws");

			submit.onclick = () => {
				chat.innerHTML += "<div>" + new Option(input.value).textContent + "</div>";
				ws.send(input.value);
			}

			ws.addEventListener("message", e => {
				chat.innerHTML += "<div>" + new Option(e.data).textContent + "</div>";
			});
		</script>
	</body>
</html>
